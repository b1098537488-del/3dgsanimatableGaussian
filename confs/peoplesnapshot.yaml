defaults:
  - _self_
  - dataset: peoplesnapshot/male-3-casual
  - deformer: smpl_model
  - non-rigid: hashgrid
  
hydra:
  job:
    chdir: true
  run:
    dir: "outputs/${dataset.name}-conservative"

num_workers: 1
max_sh_degree: 3
max_freq: 6
use_point_color: False
use_point_displacement: False
enable_ambient_occlusion: True

# 回退到更保守的损失权重
lambda_dssim: 0.08         # 大幅降低SSIM损失权重
lambda_lpips: 0.03         # 大幅降低感知损失权重
lambda_edge: 0.01          # 大幅降低边缘损失权重
lambda_gradient: 0.005     # 大幅降低梯度损失权重

# 非刚性正则化损失权重（回到原始值）
lambda_nr_xyz: 0.0002      # 回到原始值
lambda_nr_scale: 0.00002   # 回到原始值
lambda_nr_rot: 0.00002     # 回到原始值

training_args:
  # 大幅降低学习率确保稳定性
  weights_lr: 0.00008        # 大幅降低
  joint_lr: 0.0005           # 大幅降低
  opacity_lr: 0.01           # 大幅降低
  scaling_lr: 0.003          # 大幅降低
  rotation_lr: 0.0005        # 大幅降低
  ao_lr: 0.003               # 大幅降低
  displacement_lr: 0.003     # 大幅降低
  displacement_encoder_lr: 0.0005
  shs_lr: 0.0015             # 大幅降低
  sh_encoder_lr: 0.0005
  non_rigid_lr: 0.0003       # 大幅降低

trainer_args:
  max_epochs: 18          # 适中的训练轮数
  check_val_every_n_epoch: 3

model_class: animatableGaussian.model.nerf_model.NeRFModel

